
<!doctype html>
<html lang="en">




<head>
  <meta charset="utf-8">

    <title>Fabric Composer - Create business networks and blockchain applications quickly for Hyperledger | Fabric Composer</title>

  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">

  <link href="//fonts.googleapis.com/css?family=Roboto+Slab:400,700%7CRoboto:400,700,700italic,400italic" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
  <script src="/assets/js/clipboard.min.js"></script>



    <link href="/assets/css/normalize.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/footer.css" rel="stylesheet">
    <link href="/assets/css/prettify.css" rel="stylesheet">
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/css/composer-style.css" rel="stylesheet">
    <link href="/assets/css/new-style.min.css" rel="stylesheet">

</head>
<body>

	<div class="SiteWrapper">
      <div class="overlay">
				<h1>Monarch/Monaco/Composer Test</h1>
			</div>
			<div class="trio">
  			<div class="trio-center">
  				<div id="container" style="width:1000px;height:800px;border:2px solid grey"></div>
  			</div>
			</div>
		</div>

</body>

<script src="monaco0.8.3/min/vs/loader.js"></script>
<script>
	require.config({ paths: { 'vs': 'monaco0.8.3/min/vs' }});

	require(['vs/editor/editor.main'], function() {

		monaco.languages.register({
			id: 'myCustomLanguage'
		});
		monaco.languages.setMonarchTokensProvider('myCustomLanguage', {
			default: 'invalid',

			keywords: [
				'asset', 'namespace', 'asbtract', 'participant', 'abstract',
				'concept', 'enum','transaction','optional'
			],

			typeKeywords: [
				'boolean', 'Double', 'byte', 'int', 'short', 'char', 'void', 'long', 'float'
			],

			operators: [
				'-->', 'o'
			],

			// we include these common regular expressions
			symbols:  /o[=><!~?:&|+\-*\/\^%]+/,

			relationship: /(?:-->)/,

			// C# style strings
			escapes: /\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,

			// The main tokenizer for our languages
			tokenizer: {
				root: [
					// identifiers and keywords
					[/(?:identified by)/, 'keyword'],
					[/(?:-->)/, 'relationship'],
					[/o[\s]+/,'field'],
					[/[a-z_$][\w$]*/, { cases: { '@typeKeywords': 'keyword',
																			 '@keywords': 'keyword',
																			 '@default': 'identifier' } }],
					[/[A-Z][\w\$]*/, 'type.identifier' ],  // to show class names nicely

					// whitespace
					{ include: '@whitespace' },

					// delimiters and operators
					[/[{}()\[\]]/, '@brackets'],
					[/[<>](?!@symbols)/, '@brackets'],
					[/@symbols/, { cases: { '@operators': 'operator',
																	'@default'  : 'operator' } } ],



					// @ annotations.
					// As an example, we emit a debugging log message on these tokens.
					// Note: message are supressed during the first load -- change some lines to see them.
					[/@\s*[a-zA-Z_\$][\w\$]*/, { token: 'annotation', log: 'annotation token: $0' }],

					// numbers
					[/\d*\.\d+([eE][\-+]?\d+)?/, 'number.float'],
					[/0[xX][0-9a-fA-F]+/, 'number.hex'],
					[/\d+/, 'number'],

					// delimiter: after number because of .\d floats
					[/[;,.]/, 'delimiter'],

					// strings
					[/"([^"\\]|\\.)*$/, 'string.invalid' ],  // non-teminated string
					[/"/,  { token: 'string.quote', bracket: '@open', next: '@string' } ],

					// characters
					[/'[^\\']'/, 'string'],
					[/(')(@escapes)(')/, ['string','string.escape','string']],
					[/'/, 'string.invalid']
				],

				comment: [
					[/[^\/*]+/, 'comment' ],
					[/\/\*/,    'comment', '@push' ],    // nested comment
					["\\*/",    'comment', '@pop'  ],
					[/[\/*]/,   'comment' ]
				],

				string: [
					[/[^\\"]+/,  'string'],
					[/@escapes/, 'string.escape'],
					[/\\./,      'string.escape.invalid'],
					[/"/,        { token: 'string.quote', bracket: '@close', next: '@pop' } ]
				],

				whitespace: [
					[/[ \t\r\n]+/, 'white'],
					[/\/\*/,       'comment', '@comment' ],
					[/\/\/.*$/,    'comment'],
				],
			}

		});

		// Define a new theme that constains only rules that match this language
		monaco.editor.defineTheme('myCoolTheme', {
			base: 'vs-dark',
			inherit: true,
			rules: [
				{ token: 'keyword', foreground: '808080' },
				
				{ token: 'field', foreground: '006600', fontStyle: 'bold' },
				{ token: 'custom-notice', foreground: 'FFA500' },
				{ token: 'relationship', foreground: '008800' , fontStyle: 'bold' }
			]
		});

		var editor = monaco.editor.create(document.getElementById('container'), {
			theme: 'myCoolTheme',
			value: getCode(),
			language: 'myCustomLanguage'
		});
	});

	function getCode() {
		return [
			'/**',
			' * Definition of a Bond, based on the FpML schema:',
			' * http://www.fpml.org/spec/fpml-5-3-2-wd-2/html/reporting/schemaDocumentation/schemas/fpml-asset-5-3_xsd/elements/bond.html',
			' *',
			' */',
			'namespace org.acme.bond',
			'',
			'enum CouponType {',
			'  o FIXED',
			'  o FLOATING',
			'}',
			'',
			'participant Member identified by memberId {',
			'  o String memberId',
			'  o String name',
			'}',
			'',
			'participant Issuer extends Member {',
			'}',
			'',
			'enum PeriodEnum {',
			'  o DAY',
			'  o WEEK',
			'  o MONTH',
			'  o YEAR',
			'}',
			'',
			'concept PaymentFrequency {',
			'    o Integer periodMultiplier',
			'    o PeriodEnum period',
			'}',
			'',
			'concept Bond {',
			'    o String[] instrumentId',
			'    o String description optional',
			'    o String currency optional',
			'    o String[] exchangeId',
			'    o String clearanceSystem optional',
			'    o String definition optional',
			'    o String seniority optional',
			'    o CouponType couponType optional',
			'    o Double couponRate optional',
			'    o DateTime maturity',
			'    o Double parValue',
			'    o Double faceAmount',
			'    o PaymentFrequency paymentFrequency',
			'    o String dayCountFraction',
			'    --> Issuer issuer',
			'}',
			'',
			'asset BondAsset identified by ISINCode {',
			'    o String ISINCode',
			'    o Bond bond',
			'}',
			'',
			'transaction PublishBond identified by transactionId {',
			'  o String transactionId',
			'  o String ISINCode',
			'  o Bond bond',
			'}'
		].join('\n');;
	}
</script>

</html>
